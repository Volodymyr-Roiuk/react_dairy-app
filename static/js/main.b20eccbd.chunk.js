(this["webpackJsonpreact_dairy-app"]=this["webpackJsonpreact_dairy-app"]||[]).push([[0],{172:function(e,t,n){e.exports=n(304)},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},304:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(26),c=n.n(i),m=n(21),s=(n(181),n(182),n(183),n(315)),o=n(306),l=(n(184),n(103)),u=n(22),d=n(70);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){return e.itemsList},p=function(e){return e.itemText||""},I=function(e){return e.selectedId},y=function(e){return e.idCounter},g=Object(d.b)((function(e,t){switch(t.type){case"SET_ITEMS_LIST":return _({},e,{itemsList:t.itemsList});case"SET_ITEM_TEXT":return _({},e,{itemText:t.itemText});case"ADD_NEW_ITEM":return _({},e,{itemsList:[].concat(Object(l.a)(e.itemsList),[t.newItem])});case"SET_SELECTED_ID":return _({},e,{selectedId:t.itemId});case"SET_ID_COUNTER":return _({},e,{idCounter:t.id});case"REMOVE_ITEM":return _({},e,{itemsList:e.itemsList.filter((function(e){return e.id!==t.itemId}))});case"ADD_COMMENT":return e.itemsList.find((function(t){return t.id===e.selectedId})).comments.push(t.comment),_({},e,{itemsList:Object(l.a)(e.itemsList)});default:return e}}),{itemsList:[],idCounter:0}),v={setSelectedId:function(e){return{type:"SET_SELECTED_ID",itemId:e}},removeItem:function(e){return{type:"REMOVE_ITEM",itemId:e}}},L=Object(m.b)((function(e){return{selectedId:I(e)}}),v)((function(e){var t=e.item,n=t.id,a=t.text,i=t.comments,c=e.selectedId,m=e.setSelectedId,s=e.removeItem;return r.a.createElement("div",{className:"itemList__item ".concat(n===c&&"activeItem"),"data-id":n,onClick:function(e){"submit"!==e.target.type&&m(Number(e.currentTarget.dataset.id))}},r.a.createElement("div",{className:"itemList__item_content"},r.a.createElement("p",{className:"itemList__item_text"},a,r.a.createElement("span",{className:"itemList__item_commentsCount"},i.length)),r.a.createElement("button",{className:"itemList__item_button","data-id":n,onClick:function(e){var t=Number(e.target.dataset.id);s(t),t===c&&m(null)}},"Delete")),r.a.createElement("hr",null))})),N={setItemsList:function(e){return{type:"SET_ITEMS_LIST",itemsList:e}},setItemText:function(e){return{type:"SET_ITEM_TEXT",itemText:e}},addNewItem:function(e){return{type:"ADD_NEW_ITEM",newItem:e}},setIdCounter:function(e){return{type:"SET_ID_COUNTER",id:e}}},T=Object(m.b)((function(e){return{itemsList:f(e),itemText:p(e),idCounter:y(e)}}),N)((function(e){var t=e.itemsList,n=e.itemText,i=e.idCounter,c=e.setItemsList,m=e.setItemText,l=e.addNewItem,u=e.setIdCounter;Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("itemsList")),t=JSON.parse(localStorage.getItem("idCounter"));c(e||[]),u(t||0)}),[]),Object(a.useEffect)((function(){localStorage.setItem("itemsList",JSON.stringify(t)),localStorage.setItem("idCounter",JSON.stringify(i))}),[t,i]);return console.log("idCounter: ",i),r.a.createElement("div",{className:"itemList__container"},r.a.createElement("h1",{className:"itemList__title"},"Items"),r.a.createElement("div",{className:"itemList__actionsContainer "},r.a.createElement(s.a,{placeholder:"Type name here...",className:"itemList__input",value:n,onChange:function(e){m(e.target.value)}}),r.a.createElement(o.a,{className:"itemList__button",onClick:function(e){n&&(l({id:i+1,text:n,comments:[]}),m(""),u(i+1))}},"Add new")),r.a.createElement("div",{className:"itemList__items"},t.map((function(e){return r.a.createElement(L,{key:e.text+Math.random(),item:e})}))))})),b=(n(284),n(317)),O=n(316),C=(n(285),function(e){var t=e.comment.text;return r.a.createElement("div",{className:"comment"},r.a.createElement("div",{className:"comment__content"},r.a.createElement("div",null,r.a.createElement("img",{className:"comment__img",src:"https://lh3.googleusercontent.com/tsv2Gzt5rOsBDfonoy2tWJVo-4yzzo2ZxvbMgCgeHuMHbPGtnqTUWzDqcJUjy4E-FtiDBg=s85"})),r.a.createElement("p",{className:"comment__text"},t)),r.a.createElement("hr",null))}),h={addComment:function(e){return{type:"ADD_COMMENT",comment:e}}},D=Object(m.b)((function(e){return{itemsList:f(e),selectedId:I(e)}}),h)((function(e){var t=e.itemsList,n=e.selectedId,a=e.addComment,i=t.find((function(e){return e.id===n})).comments;return r.a.createElement("div",{className:"commentsList__container"},r.a.createElement("h1",{className:"commentsList__title"},"Comments #".concat(i.length)),r.a.createElement("div",{className:"commentsList__comments"},i.map((function(e){return r.a.createElement(C,{key:e.id+Math.random(),comment:e})}))),r.a.createElement("div",{className:"commentsList__addComment"},r.a.createElement("div",null,r.a.createElement("img",{className:"comment__img",src:"https://lh3.googleusercontent.com/tsv2Gzt5rOsBDfonoy2tWJVo-4yzzo2ZxvbMgCgeHuMHbPGtnqTUWzDqcJUjy4E-FtiDBg=s85"})),r.a.createElement(b.a,{className:"commentsList__textArea"},r.a.createElement(O.a,{placeholder:"Write your comment...",style:{minHeight:100},onKeyUp:function(e){e.ctrlKey&&13===e.keyCode&&(a({id:i.length+1,text:e.target.value}),e.target.value="")}}))))})),S=Object(m.b)((function(e){return{selectedId:I(e)}}))((function(e){var t=e.selectedId;return r.a.createElement("div",{className:"dairy__container"},r.a.createElement("div",{className:"dairy__titleContainer"},r.a.createElement("h1",{className:"dairy__title"},"Dairy app"),r.a.createElement("p",{className:"dairy__title_text"},"Comment with no sense")),r.a.createElement(T,null),t&&r.a.createElement(D,null))}));var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(S,null))};c.a.render(r.a.createElement(m.a,{store:g},r.a.createElement(j,null)),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.b20eccbd.chunk.js.map