{"version":3,"sources":["redux/store.js","components/listItem/ListItem.js","components/itemsList/ItemsList.js","components/comment/Comment.js","components/commentsList/CommentsList.js","components/dairy/Dairy.js","App.js","index.js"],"names":["getItemsList","state","itemsList","getItemText","itemText","getSelectedId","selectedId","getIdCounter","idCounter","store","createStore","action","type","newItem","itemId","id","filter","item","find","comments","push","comment","mapDispatchToProps","setSelectedId","removeItem","connect","text","className","data-id","onClick","event","target","Number","currentTarget","dataset","length","setItemsList","setItemText","addNewItem","setIdCounter","useEffect","items","JSON","parse","localStorage","getItem","setItem","stringify","console","log","Input","placeholder","value","onChange","Button","map","key","Math","random","Comment","src","addComment","Form","TextArea","style","minHeight","onKeyUp","ctrlKey","keyCode","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b20eccbd.chunk.js","sourcesContent":["import { createStore } from 'redux';\n\n// state\nconst initialState = {\n  itemsList: [],\n  idCounter: 0,\n};\n\n// action types\nconst SET_ITEMS_LIST = 'SET_ITEMS_LIST';\nconst SET_ITEM_TEXT = 'SET_ITEM_TEXT';\nconst ADD_NEW_ITEM = 'ADD_NEW_ITEM';\nconst SET_SELECTED_ID = 'SET_SELECTED_ID';\nconst REMOVE_ITEM = 'REMOVE_ITEM';\nconst ADD_COMMENT = 'ADD_COMMENT';\nconst SET_ID_COUNTER = 'SET_ID_COUNTER';\n\n// action creators\nexport const setItemsList = itemsList => ({ type: SET_ITEMS_LIST, itemsList });\nexport const setItemText = itemText => ({ type: SET_ITEM_TEXT, itemText });\nexport const addNewItem = newItem => ({ type: ADD_NEW_ITEM, newItem });\nexport const setSelectedId = itemId => ({ type: SET_SELECTED_ID, itemId });\nexport const removeItem = itemId => ({ type: REMOVE_ITEM, itemId });\nexport const addComment = comment => ({ type: ADD_COMMENT, comment });\nexport const setIdCounter = id => ({ type: SET_ID_COUNTER, id });\n\n// selectors\nexport const getItemsList = state => state.itemsList;\nexport const getItemText = state => state.itemText || '';\nexport const getSelectedId = state => state.selectedId;\nexport const getIdCounter = state => state.idCounter;\n\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case SET_ITEMS_LIST:\n      return ({...state, itemsList: action.itemsList });\n\n    case SET_ITEM_TEXT:\n      return ({ ...state, itemText: action.itemText });\n\n    case ADD_NEW_ITEM:\n      return ({ ...state, itemsList: [ ...state.itemsList, action.newItem ] });\n\n    case SET_SELECTED_ID:\n      return ({ ...state, selectedId: action.itemId });\n\n    case SET_ID_COUNTER:\n      return ({ ...state, idCounter: action.id });\n\n    case REMOVE_ITEM:\n      return ({\n        ...state,\n        itemsList: state.itemsList.filter(item => item.id !== action.itemId),\n      });\n\n    case ADD_COMMENT: {\n      const selectedItem = state.itemsList.find(item => item.id === state.selectedId);\n      selectedItem.comments.push(action.comment);\n\n      return ({ ...state, itemsList: [ ...state.itemsList ] })\n    }\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer, initialState);\n\nexport default store;\n","import React from 'react';\nimport './ListItem.css';\nimport { connect } from 'react-redux';\nimport { getSelectedId, setSelectedId, removeItem } from '../../redux/store';\n\nconst ListItem = ({ item: { id, text, comments }, selectedId, setSelectedId, removeItem }) => {\n  const listItemClick = (event) => {\n    if (event.target.type === 'submit') return;\n\n    setSelectedId(Number(event.currentTarget.dataset.id));\n  };\n\n  const removeItemClick = (event) => {\n    const itemId = Number(event.target.dataset.id);\n\n    removeItem(itemId);\n    if (itemId === selectedId) setSelectedId(null);\n  };\n\n  return (\n    <div className={`itemList__item ${id === selectedId && 'activeItem'}`} data-id={id} onClick={listItemClick}>\n      <div className=\"itemList__item_content\">\n        <p className=\"itemList__item_text\">\n          {text}\n          <span className=\"itemList__item_commentsCount\">{comments.length}</span>\n        </p>\n        <button\n          className=\"itemList__item_button\"\n          data-id={id}\n          onClick={removeItemClick}\n        >\n          Delete\n        </button>\n      </div>\n      <hr />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  selectedId: getSelectedId(state),\n});\n\nconst mapDispatchToProps = { setSelectedId, removeItem };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ListItem);\n","import React, { useEffect } from 'react';\nimport './ItemsList.css';\nimport { Button, Input } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport ListItem from '../listItem/ListItem';\nimport {getItemsList, getItemText, getIdCounter, setItemsList, setItemText, addNewItem, setIdCounter } from '../../redux/store';\n\nconst ItemsList = ({ itemsList, itemText, idCounter, setItemsList, setItemText, addNewItem, setIdCounter }) => {\n  useEffect(() => {\n    const items = JSON.parse(localStorage.getItem('itemsList'));\n    const idCounter = JSON.parse(localStorage.getItem('idCounter'));\n\n    setItemsList(items || []);\n    setIdCounter(idCounter || 0);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('itemsList', JSON.stringify(itemsList));\n    localStorage.setItem('idCounter', JSON.stringify(idCounter));\n  }, [itemsList, idCounter]);\n\n  const changeInputValue = (event) => {\n    setItemText(event.target.value);\n  };\n\n  const AddNewItemClick = (event) => {\n    if (!itemText) return;\n\n    addNewItem({ id: idCounter + 1, text: itemText, comments: [] });\n    setItemText('');\n    setIdCounter(idCounter + 1);\n  };\n\n  console.log('idCounter: ', idCounter);\n  return (\n    <div className=\"itemList__container\">\n      <h1 className=\"itemList__title\">Items</h1>\n      <div className=\"itemList__actionsContainer \">\n        <Input\n          placeholder=\"Type name here...\"\n          className=\"itemList__input\"\n          value={itemText}\n          onChange={changeInputValue}\n        />\n        <Button className=\"itemList__button\" onClick={AddNewItemClick}>Add new</Button>\n      </div>\n      <div className=\"itemList__items\">\n        {itemsList.map(item => <ListItem key={item.text + Math.random()} item={item} />)}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  itemsList: getItemsList(state),\n  itemText: getItemText(state),\n  idCounter: getIdCounter(state),\n});\n\nconst mapDispatchToProps = { setItemsList, setItemText, addNewItem, setIdCounter };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ItemsList);\n","import React from 'react';\nimport './Comment.css';\n\nconst Comment = ({ comment: { text } }) => {\n  return (\n    <div className=\"comment\">\n      <div className=\"comment__content\">\n        <div>\n          <img className=\"comment__img\" src=\"https://lh3.googleusercontent.com/tsv2Gzt5rOsBDfonoy2tWJVo-4yzzo2ZxvbMgCgeHuMHbPGtnqTUWzDqcJUjy4E-FtiDBg=s85\" />\n        </div>\n        <p className=\"comment__text\">{text}</p>\n      </div>\n      <hr />\n    </div>\n  );\n};\n\nexport default Comment;\n","import React from 'react';\nimport './CommentsList.css';\nimport { connect } from 'react-redux';\nimport { Form, TextArea } from 'semantic-ui-react';\nimport Comment from '../comment/Comment';\nimport { getItemsList, getSelectedId, addComment } from '../../redux/store';\n\nconst CommentsList = ({ itemsList, selectedId, addComment }) => {\n  const { comments } = itemsList.find(item => item.id === selectedId);\n\n  const handleAddComment = (event) => {\n    if (event.ctrlKey && event.keyCode === 13) {\n      addComment({ id: comments.length + 1, text: event.target.value });\n      event.target.value = '';\n    }\n  };\n\n  return (\n    <div className=\"commentsList__container\">\n      <h1 className=\"commentsList__title\">{`Comments #${comments.length}`}</h1>\n      <div className=\"commentsList__comments\">\n        {comments.map(comment => <Comment key={comment.id + Math.random()} comment={comment} />)}\n      </div>\n      <div className=\"commentsList__addComment\">\n        <div>\n          <img className=\"comment__img\" src=\"https://lh3.googleusercontent.com/tsv2Gzt5rOsBDfonoy2tWJVo-4yzzo2ZxvbMgCgeHuMHbPGtnqTUWzDqcJUjy4E-FtiDBg=s85\" />\n        </div>\n        <Form className=\"commentsList__textArea\">\n          <TextArea placeholder='Write your comment...' style={{ minHeight: 100}} onKeyUp={handleAddComment} />\n        </Form>\n      </div>\n    </div>\n  )\n};\n\nconst mapStateToProps = state => ({\n  itemsList: getItemsList(state),\n  selectedId: getSelectedId(state),\n});\n\nconst mapDispatchToProps = { addComment };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CommentsList);\n","import React from 'react';\nimport './Dairy.css';\nimport ItemsList from '../itemsList/ItemsList';\nimport CommentsList from '../commentsList/CommentsList';\nimport { connect } from 'react-redux';\nimport  { getSelectedId } from '../../redux/store';\n\n\nconst Dairy = ({ selectedId }) => {\n  return (\n    <div className=\"dairy__container\">\n      <div className=\"dairy__titleContainer\">\n        <h1 className=\"dairy__title\">Dairy app</h1>\n        <p className=\"dairy__title_text\">Comment with no sense</p>\n      </div>\n      <ItemsList />\n      {selectedId && <CommentsList />}\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  selectedId: getSelectedId(state),\n});\n\nexport default connect(\n  mapStateToProps\n)(Dairy);\n","import React from 'react';\nimport './App.css';\nimport Dairy from './components/dairy/Dairy';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Dairy />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}